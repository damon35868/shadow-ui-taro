import e,{useEffect as t,useState as n,useImperativeHandle as r,useRef as a}from"react";import{useReachBottom as o,navigateBack as c,useDidShow as l,reLaunch as i}from"@tarojs/taro";import{View as s,Button as u}from"@tarojs/components";var f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},f.apply(this,arguments)};function d(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{i(r.next(e))}catch(e){o(e)}}function l(e){try{i(r.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}i((r=r.apply(e,t||[])).next())}))}function p(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(c=0)),c;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return c.label++,{value:l[1],done:!1};case 5:c.label++,r=l[1],l=[0];continue;case 7:l=c.ops.pop(),c.trys.pop();continue;default:if(!(a=c.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){c=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){c.label=l[1];break}if(6===l[0]&&c.label<a[1]){c.label=a[1],a=l;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(l);break}a[2]&&c.ops.pop(),c.trys.pop();continue}l=t.call(e,c)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}function m(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function g(e,n,r){var a=e.data,c=e.run,l=e.mutate,i=e.loading,s=(a||{}).hasNextPage;function u(){return d(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return i||!s?[2]:[4,c(r?r(n):{page:n})];case 1:return e.sent(),l((function(e){return f(f({},e),{items:m(m([],a.items,!0),e.items,!0)})})),n+=1,[2]}}))}))}return n=1===n?2:n||1,t((function(){return function(){n=1}}),[]),o(u),{refetchData:u}}function h(e){c(f(f({},e),{fail:function(){i({url:"/pages/index/index"})}}))}function v(e,t,n){void 0===t&&(t={});var r=e.refresh;l((function(){r&&(r(t),n&&n())}))}function y(e,t){void 0===e&&(e=new Date),void 0===t&&(t="yyyy-MM-dd hh:mm:ss");var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var r in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t}function b(e,t,n){if(!e)return"";var r=(null==e?void 0:e.split(","))[0];return r?"".concat(r,"?imageMogr2/thumbnail/").concat(t,"x").concat(n):""}function E(e){return new Date(e).toDateString()===(new Date).toDateString()}function w(e,t,n){for(var r=e.split("?"),a=0;a<r.length;a++){var o=r[a].split("=");if(n)o[0]==t&&r.splice(a,1);else if(o[0]==t)return decodeURIComponent(o[1])}if(!t||n)return{query:decodeURIComponent(r.join("&"))}}var x,N=function(e){var t=["零","一","二","三","四","五","六","七","八","九"],n=["","十","百","千","万","十","百","千","亿","十","百","千","万","十","百","千","亿"];if(!e||isNaN(e))return"零";for(var r=e.toString().split(""),a="",o=0;o<r.length;o++){var c=r.length-1-o;a=n[o]+a,a=t[r[c]]+a}return a=(a=(a=(a=(a=(a=a.replace(/零(千|百|十)/g,"零").replace(/十零/g,"十")).replace(/零+/g,"零")).replace(/零亿/g,"亿").replace(/零万/g,"万")).replace(/亿万/g,"亿")).replace(/零+$/,"")).replace(/^一十/g,"十")},_={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
x=_,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var a=arguments[r];if(a){var o=typeof a;if("string"===o||"number"===o)n.push(a);else if(Array.isArray(a)){if(a.length){var c=t.apply(null,a);c&&n.push(c)}}else if("object"===o){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){n.push(a.toString());continue}for(var l in a)e.call(a,l)&&a[l]&&n.push(l)}}}return n.join(" ")}x.exports?(t.default=t,x.exports=t):window.classNames=t}();var C=_.exports,S=function(a){var o=a.status,c=a.setStatus,l=a.closeOnClickModal,i=void 0===l||l,u=a.onClose,f=a.onCancel,d=a.children,p=a.cRef,m=a.hideBG;a.hideClose;var g=a.arg,h=n(!1),v=h[0],y=h[1];t((function(){return y(o)}),[o]);var b=function(){y(!1),setTimeout((function(){return c(g||!1)}),150)};return r(p,(function(){return{close:b}})),e.createElement(s,{catchMove:!0,className:C("sd_modal",{show:o}),onClick:function(){i&&b(),u&&u(),f&&f()}},e.createElement(s,{onClick:function(e){return e.stopPropagation()},className:C("sd_modal-scale-".concat(v?"in":"out"),{bg:!m})},d))},k=function(t){var n=t.status,r=t.setStatus,a=t.closeOnClickModal,o=void 0===a||a,c=t.onClose,l=t.children,i=t.rounded;return e.createElement(s,{className:C("sd_bottom-modal",{show:n}),onClick:function(){return o&&(c&&c(),void(r&&r(!1)))}},e.createElement(s,{className:C("bg sd_bottom-modal-content",{active:n,rounded:i}),onClick:function(e){return e.stopPropagation()}},e.createElement(s,{className:"sd_bottom-modal-content-main"},l)))},M=function(t){var n=t.status,r=t.setStatus,o=t.content,c=t.onClick,l=t.onCancel,i=o.title,f=o.desc,d=o.btnText,p=a();return e.createElement(S,{cRef:p,status:n,setStatus:r,onCancel:l},e.createElement(s,{className:"sd_dialog"},e.createElement(s,{className:"sd_dialog-title"},i),e.createElement(s,{className:"sd_dialog-desc"},f),e.createElement(u,{className:"sd_dialog-btn",onClick:function(){var e;return c&&c(null===(e=p.current)||void 0===e?void 0:e.close)}},d)))},R=function(){return e.createElement(s,{className:"sd_line-loading"},e.createElement(s,{className:"sd_line-loading-light"}))},j=function(t){var n=t.children;return e.createElement(s,{className:"sd_circle-loading"},e.createElement(s,{className:"sd_circle-loading-content"},e.createElement(s,{className:"sd_circle-loading-content-line-1"}),e.createElement(s,{className:"sd_circle-loading-content-line-2"}),e.createElement(s,{className:"sd_circle-loading-content-line-3"}),e.createElement(s,{className:"sd_circle-loading-content-text"},n)))},D=function(t){var n=t.circle,r=t.children;return n?e.createElement(j,null,r):e.createElement(R,null)};export{k as BottomModal,M as Dialog,D as Loading,S as Modal,N as changeNumToHan,y as formatDate,w as getQueryVariable,b as getScaleImageURL,E as isToday,h as navigateBack,g as useLoadMore,v as useShowFetch};
//# sourceMappingURL=index.js.map
